{# templates/habitat/habitat.html.twig #}

{% extends 'header.html.twig' %}

{% block title %}Nos habitats{% endblock %}

{% block body %}
<div id="hero" class="hero-section">
    <img src="{{ asset('assets/styles/images/lemurs-1010643_1280.jpg') }}" alt="Description de l'image">
    <div class="hero-content">
        <h1>Nos habitats</h1>
        <p>Un habitat, au sein du Zoo d'Arcadia, est une zone écologique ou environnementale spécialement conçue pour abriter une espèce particulière d'animal, de plante ou d'un autre type d'organisme. Chaque habitat reproduit la zone dans laquelle l'organisme vivrait naturellement et où il peut trouver de la nourriture, un abri, une protection et des partenaires pour la reproduction, en utilisant les caractéristiques auxquelles l'espèce s'est adaptée pour survivre. Ces habitats sont soigneusement créés pour refléter l'environnement naturel dans lequel vit l'organisme, ou l'environnement physique qui entoure une population de la faune, assurant ainsi leur bien-être et leur épanouissement au sein du zoo.</p>
    </div>
</div>

<section id="habitats" class="habitats-section">
    <div class="container-habitat">
        <h2>Découvrez nos habitats</h2>
        <div class="row mt-4">
            {% for habitat in habitats %}
                <div class="col-md-4 mb-4">
                    <div class="habitat-card">
                        <a href="{{ path('animal', {'habitat_id': habitat.habitatId}) }}">
                            {% if habitat.images|length > 0 %}
                                <img src="data:image/jpeg;base64,{{ habitat.images[0].imageData }}" class="card-img-top" alt="{{ habitat.nom }}">
                            {% else %}
                                <img src="{{ asset('assets/styles/images/default.jpg') }}" class="card-img-top" alt="{{ habitat.nom }}">
                            {% endif %}
                        </a>
                        <div class="card-body">
                            <h5 class="card-title">{{ habitat.nom }}</h5>
                            {% if is_granted('ROLE_ADMIN') %}
                                <div class="d-flex justify-content-between mt-2">
                                    <a href="?update={{ habitat.habitatId }}#form-modification" class="btn btn-warning">Modifier</a>
                                    <form action="?delete={{ habitat.habitatId }}" method="POST" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cet habitat ?');">
                                        <button type="submit" class="btn btn-danger">Supprimer</button>
                                    </form>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

{% if is_granted('ROLE_ADMIN') %}
    <div id="form-modification" class="form-container">
        <h3>{{ isEditing ? 'Modifier un Habitat' : 'Créer un Habitat' }}</h3>
        {{ form_start(habitatForm) }}
            {{ form_widget(habitatForm) }}
            <button type="submit">{{ isEditing ? 'Mettre à Jour' : 'Créer l\'habitat' }}</button>
        {{ form_end(habitatForm) }}
    </div>
{% endif %}

{% include 'footer.html.twig' %}
{% endblock %}
